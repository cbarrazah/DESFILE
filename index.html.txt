<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Consulta por Cédula</title>
<style>
body { font-family: Arial; background: #f2f2f2; padding: 40px; }
.card { background: white; padding: 20px; border-radius: 12px; width: 400px; margin: auto; }
input, button { width: 100%; padding: 10px; margin-top: 10px; }
button { background: black; color: white; border: none; cursor: pointer; border-radius: 8px; }
pre { background: #eee; padding: 10px; border-radius: 8px; margin-top: 20px; }
</style>
</head>

<body>
<div class="card">
    <h2>Consulta de Asociados</h2>

    <input id="cedula" placeholder="Ingrese la cédula" />
    <button onclick="buscar()">Consultar</button>

    <div id="resultado"></div>
</div>

<script>
async function buscar() {
    const cedula = document.getElementById("cedula").value;
    const resultado = document.getElementById("resultado");

    resultado.innerHTML = "Buscando...";

    const res = await fetch(`/api/buscar?cedula=${cedula}`);
    const json = await res.json();

    if (json.error) {
        resultado.innerHTML = `<p style="color:red">${json.error}</p>`;
    } else {
        resultado.innerHTML = `<pre>${JSON.stringify(json, null, 2)}</pre>`;
    }
}
</script>

</body>
</html>
